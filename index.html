<!DOCTYPE html>
<html>
<head>
<meta charset='utf-8' />
<title>Volcanic Eruptions 2000-2020</title>
<meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
<script src='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.js'></script>
<link href='https://api.mapbox.com/mapbox-gl-js/v1.12.0/mapbox-gl.css' rel='stylesheet' />
<style>
body {
    margin: 0;
    padding: 0;
    font-family: 'Helvetica Neue', Helvetica, Arial, Sans-serif;
  }
  
  #map {
    position: absolute;
    top: 0;
    bottom: 0;
    width: 100%;
  }
  
  h1 {
    font-size: 20px;
    line-height: 30px;
  }
  
  h2 {
    font-size: 14px;
    line-height: 20px;
    margin-bottom: 10px;
  }
  
  a {
    text-decoration: none;
    color: #2dc4b2;
  }
  
  #console {
    position: absolute;
    width: 240px;
    margin: 10px;
    padding: 10px 20px;
    background-color: white;
  }
  .session {
  margin-bottom: 20px;
 }

.row {
  height: 12px;
  width: 100%;
  padding-top: 10px;
  opacity: 2;
}

.colors {
  background: linear-gradient(to right, #2dc4b2, #3bb3c3, #669ec4, #8b88b6, #a2719b, #aa5e79);
  margin-bottom: 5px;
}

.label {
  width: 18%;
  display: inline-block;
  text-align: right;
}
</style>
</head>

<body>
    <div id='map'></div>
    <div id='console'>
    <h1>Volcanic Eruptions</h1>
    <p>Data: <a href='https://www.volcanodiscovery.com/'>Volcanic eruptions through</a> 2000 to 2020</p>
    <div class='session'>
        <h2>Years</h2>
        <div class='row colors'>
        </div>
        <div class='row labels'>
          <div class='label'>2000 </div>
          <div class='label'>2005 </div>
          <div class='label'>  2010 </div>
          <div class='label'>  2015 </div>
          <div class='label'>  2020 </div>
        </div>
      </div>
      <div class='session' id='sliderbar'>
        <h2>Year: <label id='active-year'>2000</label></h2>
        <input id='slider' class='row' type='range' min='2000' max='2020' step='1' value='2000' />
      </div>
    </div>
</body>


    <script>
    mapboxgl.accessToken = 'pk.eyJ1IjoiY2xhcmt1IiwiYSI6ImNrZ2ExNjdjYzAycmwzMW1mMm92Ynl5cDIifQ.0OXA0o-WYeuKNfhhLc45kQ';

    var map = new mapboxgl.Map({
      container: 'map', // container element id
      style: 'mapbox://styles/mapbox/light-v10',
      center: [-74.0059, 40.7128], // initial map center in [lon, lat]
      zoom: 3
    });

    map.on('load', function() {
    map.addLayer({
    id: 'points',
    type: 'circle',
    source: {
      type: 'geojson',
      data: './VolcanicData.geojson' // replace this with the url of your own geojson
    },
    paint: {
      'circle-radius': [
        'interpolate',
        ['linear'],
        ['number', ['get', 'Year']],
        2000, 2010,
        2011, 2020
      ],
      'circle-color': [
        'interpolate',
        ['exponential',1],
        ['number', ['get', 'Year']],
        2000, '#2DC4B2',
        2005, '#3BB3C3',
        2010, '#669EC4',
        2015, '#8B88B6',
        2020, '#A2719B',
      ],
      'circle-opacity': 0.8
    },
	filter: ['==', ['number', ['get', 'Year']], 5]
  });
  //document.getElementById('slider').addEventListener('input', function(e) {
  //var hour = parseInt(e.target.value);
  // update the map
  //map.setFilter('collisions', ['==', ['number', ['get', 'Year']],year]);

  // converting 0-23 hour to AMPM format
  //var ampm = hour >= 12 ? 'PM' : 'AM';
  //var hour12 = hour % 12 ? hour % 12 : 12;

  // update text in the UI
  //document.getElementById('active-hour').innerText = hour;

  });
  document.getElementById('slider').addEventListener('input', function(e) {
  var year = parseInt(e.target.value);
  // update the map
  map.setFilter('points', ['==', ['number', ['get', 'year']], year]);

  // converting 0-23 hour to AMPM format
  //var ampm = hour >= 12 ? 'PM' : 'AM';
  //var hour12 = hour % 12 ? hour % 12 : 12;

  // update text in the UI
  document.getElementById('active-year').innerText = year;
});



    </script>
</html>


    
